<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="box">

        <h2>Hello digital</h2>
        

        <input type="text" id="id" placeholder="전화번호, 사용자 이름 또는 이메일">
        <input type="password" id="pw" placeholder="비밀번호">
        <button id="btn" onclick="return post()">로그인</button> 
      
    
    
       <p>또는</p>
      
      <a href="https://www.facebook.com/campaign/landing.php?&campaign_id=1662308814&extra_1=s%7Cc%7[…]VELDdLw9rodZGoRf2Ei1qjLr-LgTyIHHHDiCHN6uiYMozQAaAtmPEALw_wcB "> facebook 으로 로그인</a> <br>
      <a href="https://www.naver.com"> 비밀번호를 잊으셨나요</a>
    
    </div>
      
</body>

 
<script defer>

    const btn = document.querySelector('#btn'); 
    const id = document.querySelector('#id');
    const pw = document.querySelector('#pw');

    const xhr = new XMLHttpRequest();
    const method = "POST";
    const url = "";

    const Data = new FormData();
    Data.append('id',id.value);
    Data.append('pw',id.value);
    
      /*
      function post (e) {
      
      xhr.open(method,url,true);
      
      xhr.onreadystatechange = function (e) {
        const {target} = e;
      
        if(target.readyState === XMLHttpRequest.DONE){
          const {status} = target;
      
          
          if(status === 0 || (status >= 200 && status <400)){
            alert("res");
            console.log("res");
          } else {
            alert("error");
            console.log("error");
          }
          
        }
      }
      xhr.send(`id=${id}&pw=${pw}`);
       }
  
       // 405 error 
  
  */
    
   /*
    function post () {
  
        axios({
          url : url,
          method : method,
          data : form
        }) 
        .then(function (res){
           console.log(res);
        })
        .catch(function (err){
            console.log(err);
        })  
    }
  
    btn.addEventListener('click',post());
  
     */
    
 /*
    function post(){
    //객체 생성
      const req = new XMLHttpRequest();
      req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');

      //요청초기화 
      req.open(method,url,true);
      console.log( " 초기화 OPEND 1 :"+req.readyState);
      console.log(formData);
      req.onreadystatechange = function(){
        if(req.readyState == 2 && req.status == 200) {
           console.log( "HEADERS_RECEIVED 2 : "+req.readyState);
        } else if(req.readyState == 4){
           console.log("DONE 4 : "+req.readyState);
            
        }
      } 
       req.open(method,url);
       req.send(Data);
    
    }
    */

    function post(){
        const params = {
            id : document.querySelector('#id').value,
            pw : document.querySelector('#pw').value
        }

        const http = new XMLHttpRequest()
        http.open(method,url)
        http.setRequestHeader('Content-type', 'application/json')
        http.send(JSON.stringify(params))
        http.onload = function(){
            alert(http.responseText);
        }
    }

    </script>
</html>